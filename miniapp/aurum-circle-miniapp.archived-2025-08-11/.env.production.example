# Production Environment Configuration for Fly.io Deployment
# Copy this to .env.production and fill in your actual values

# ===== REQUIRED CONFIGURATION =====

# Application Mode
NODE_ENV=production
NEXT_TELEMETRY_DISABLED=1

# ML Model Configuration (Real ML Mode)
USE_REAL_ML=true
ML_MODE=production
TF_CPP_MIN_LOG_LEVEL=2
NODE_OPTIONS=--max-old-space-size=4096

# TensorFlow.js Configuration
TFJS_BACKEND=webgl
TFJS_WEBGL_VERSION=2
TFJS_WEBGL_CPU_FORWARD=false

# Model Paths (Fly.io deployment)
FACE_DETECTION_MODEL_PATH=/app/public/models/face_detection/model.json
FACE_EMBEDDING_MODEL_PATH=/app/public/models/arcface/model.json
MODEL_CACHE_SIZE=2

# Vector Store Configuration
VECTOR_STORE_PATH=/data/embeddings
MAX_USERS=50000
EMBEDDING_CACHE_SIZE=2000
SIMILARITY_BATCH_SIZE=50

# Performance Tuning
UV_THREADPOOL_SIZE=8
LIBUV_THREADPOOL_SIZE=8

# World ID Configuration (REQUIRED)
# Get these from https://developer.worldcoin.org/
NEXT_PUBLIC_WORLDCOIN_APP_ID=app_staging_your_actual_app_id_here
WORLDCOIN_APP_SECRET=sk_your_actual_app_secret_here

# JWT Configuration (REQUIRED)
# Generate with: openssl rand -base64 32
JWT_SECRET=your_secure_jwt_secret_here

# ===== OPTIONAL CONFIGURATION =====

# Blockchain Configuration (for NFT verification)
ALCHEMY_API_KEY=your_alchemy_api_key
NEXT_PUBLIC_CHAIN_ID=1

# NFT Contract Configuration
NFT_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890

# R2/S3 Storage for Model Backups (Optional)
R2_ACCESS_KEY_ID=your_r2_access_key_id
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
R2_BUCKET_NAME=aurum-circle-models
R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com

# Monitoring & Analytics
SENTRY_DSN=your_sentry_dsn
ANALYTICS_ID=your_analytics_id

# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000

# Cache Configuration
REDIS_URL=redis://your-redis-instance
CACHE_TTL=3600

# Feature Flags
ENABLE_REAL_ML=true
ENABLE_LEADERBOARD=true
ENABLE_SIMILAR_USERS=true
ENABLE_DEBUG_LOGGING=false

# Security Configuration
CORS_ORIGIN=https://aurum-circle-attractiveness-ml.fly.dev
SECURE_COOKIES=true
SESSION_TIMEOUT=86400

# ===== FLY.IO SPECIFIC =====

# These are set automatically by Fly.io
# PORT=3000
# HOSTNAME=0.0.0.0
# PRIMARY_REGION=sea

# Internal networking
# FLY_APP_NAME=aurum-circle-attractiveness-ml
# FLY_ALLOC_ID=will-be-set-by-flyio
# FLY_REGION=will-be-set-by-flyio